\documentclass{article}
\usepackage{luacas}

\begin{document}

\[ \CAS{
vars("x", "y")
disp((x^2+2*x+1):factor())
} \]

\end{document}